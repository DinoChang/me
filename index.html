<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dino@Portfolio:~$</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-color: #0a0a0a;
            --terminal-bg: #1a1a1a;
            --text-color: #00ff00;
            --text-dim: #a8d8a8;
            --text-bright: #00ff00;
            --accent-color: #00ffff;
            --error-color: #ff5555;
            --warning-color: #ffff55;
            --header-bg: #2d2d2d;
        }

        body {
            font-family: 'Fira Code', 'Noto Sans TC', monospace;
            background: var(--bg-color);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow: hidden;
        }

        /* Matrix rain background */
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.05;
            z-index: 0;
        }

        /* Terminal Window */
        .terminal {
            width: 100%;
            max-width: 900px;
            height: 80vh;
            max-height: 700px;
            background: var(--terminal-bg);
            border-radius: 10px;
            box-shadow: 0 20px 80px rgba(0, 255, 0, 0.15),
                        0 0 0 1px rgba(0, 255, 0, 0.1);
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 1;
        }

        /* Terminal Header */
        .terminal-header {
            background: var(--header-bg);
            padding: 12px 16px;
            border-radius: 10px 10px 0 0;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #333;
        }

        .terminal-buttons {
            display: flex;
            gap: 8px;
        }

        .terminal-btn {
            width: 14px;
            height: 14px;
            border-radius: 50%;
        }

        .btn-close { background: #ff5f56; }
        .btn-minimize { background: #ffbd2e; }
        .btn-maximize { background: #27ca40; }

        .terminal-title {
            color: #aaa;
            font-size: 13px;
            flex: 1;
            text-align: center;
        }

        /* Terminal Body */
        .terminal-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            font-size: 14px;
            line-height: 1.6;
        }

        .terminal-body::-webkit-scrollbar {
            width: 8px;
        }

        .terminal-body::-webkit-scrollbar-track {
            background: var(--terminal-bg);
        }

        .terminal-body::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 4px;
        }

        /* Output styles */
        .output {
            color: var(--text-color);
        }

        .output-line {
            margin-bottom: 4px;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .prompt {
            color: var(--accent-color);
        }

        .command {
            color: #fff;
        }

        .comment {
            color: var(--text-dim);
        }

        .desc {
            color: #b0b0b0;
        }

        .value {
            color: #e0e0e0;
        }

        .half-star {
            display: inline-block;
            background: linear-gradient(90deg, var(--text-dim) 50%, #555 50%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .highlight {
            color: var(--warning-color);
        }

        .error {
            color: var(--error-color);
        }

        .success {
            color: var(--text-bright);
        }

        .cyan {
            color: var(--accent-color);
        }

        .skill-tag {
            display: inline-block;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--accent-color);
            padding: 2px 8px;
            margin: 2px 4px 2px 0;
            border-radius: 4px;
            font-size: 12px;
            color: var(--accent-color);
        }

        .exp-item {
            margin: 12px 0;
            padding-left: 16px;
            border-left: 2px solid var(--text-dim);
        }

        .exp-title {
            color: var(--warning-color);
            font-weight: 700;
        }

        .exp-desc {
            color: #c0c0c0;
            font-size: 13px;
        }

        .ascii-art {
            color: var(--accent-color);
            line-height: 1.2;
            font-size: 12px;
        }

        /* Input line */
        .input-line {
            display: flex;
            align-items: center;
            margin-top: 8px;
        }

        .input-prompt {
            color: var(--accent-color);
            white-space: nowrap;
        }

        #command-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #fff;
            font-family: inherit;
            font-size: 14px;
            outline: none;
            caret-color: var(--text-bright);
            margin-left: 8px;
        }

        /* Cursor blink */
        .cursor {
            display: inline-block;
            width: 10px;
            height: 18px;
            background: var(--text-bright);
            animation: blink 1s step-end infinite;
            vertical-align: middle;
            margin-left: 2px;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Typing animation */
        .typing {
            overflow: hidden;
            animation: typing 0.5s steps(30, end);
        }

        @keyframes typing {
            from { max-width: 0; }
            to { max-width: 100%; }
        }

        /* Loading animation */
        .loading-bar {
            color: var(--text-bright);
        }

        /* Links */
        .terminal-link {
            color: var(--accent-color);
            text-decoration: underline;
            cursor: pointer;
        }

        .terminal-link:hover {
            color: var(--warning-color);
        }

        /* Mobile */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            .terminal {
                height: 90vh;
                border-radius: 8px;
            }

            .terminal-header {
                padding: 10px 12px;
            }

            .terminal-body {
                padding: 12px;
                font-size: 12px;
            }

            .ascii-art {
                font-size: 8px;
            }

            #command-input {
                font-size: 16px; /* Prevent zoom on iOS */
            }
        }

        /* Hidden class for typing effect */
        .hidden {
            display: none;
        }

        /* Boot sequence */
        .boot-text {
            color: var(--text-dim);
        }
    </style>
</head>
<body>
    <canvas class="matrix-bg" id="matrix"></canvas>

    <div class="terminal">
        <div class="terminal-header">
            <div class="terminal-buttons">
                <span class="terminal-btn btn-close"></span>
                <span class="terminal-btn btn-minimize"></span>
                <span class="terminal-btn btn-maximize"></span>
            </div>
            <span class="terminal-title">dino@portfolio â€” bash</span>
        </div>

        <div class="terminal-body" id="terminal-output">
            <!-- Output will be rendered here -->
        </div>
    </div>

    <script>
        // ===== Terminal Configuration =====
        const CONFIG = {
            typingSpeed: 15,        // ms per character
            lineDelay: 50,          // ms between lines
            bootDelay: 300,         // ms between boot messages
            promptDelay: 200        // ms before showing prompt
        };

        // ===== Data =====
        const PROFILE = {
            name: 'Dino',
            title: 'Full Stack Developer',
            class: 'å¾Œç«¯å·¥ç¨‹å¸«',
            specialty: '.NET ç³»',
            passive: 'Debug é«”è³ª',
            skills: [
                { name: '.NET Core', level: 5 },
                { name: 'C#', level: 5 },
                { name: 'TypeScript', level: 4 },
                { name: 'Python', level: 3 },
                { name: 'Git', level: 4.5 },
                { name: 'Docker', level: 4.5 },
                { name: 'MSSQL', level: 4 },
                { name: 'PostgreSQL', level: 3.5 },
                { name: 'RESTful API', level: 4 },
                { name: 'Claude Code', level: 4.5 },
                { name: 'GitHub Copilot', level: 4 },
                { name: 'Prompt Engineering', level: 4 }
            ],
            experience: [
                { title: 'é†«ç™‚è³‡è¨Šç³»çµ±', desc: 'è®“æ›è™Ÿæ‰¹åƒ¹ä¸å†æ˜¯è¿·å®®', tech: '.NET Core, MSSQL' },
                { title: 'å®¢æˆ¶ç®¡ç†ç³»çµ±', desc: 'å¹«æ¥­å‹™è¨˜ä½æ¯ä¸€ä½é‡‘ä¸»', tech: 'C#, PostgreSQL' },
                { title: 'ç¤¾å€ç®¡ç†é ç´„ç³»çµ±', desc: 'è®“ä½æˆ¶è¨‚è¨­æ–½ä¸ç”¨æ¶ç ´é ­', tech: 'TypeScript, REST API' },
                { title: 'æœƒå“¡ç®¡ç†å¹³å°', desc: 'æœƒå“¡è³‡æ–™ä¸€ç›®ç­ç„¶ä¸èµ°å¤±', tech: '.NET Core, Docker' },
                { title: 'è³‡æ–™å ±è¡¨ç³»çµ±', desc: 'æŠŠæ•¸å­—è®Šæˆè€é—†çœ‹å¾—æ‡‚çš„åœ–', tech: 'Python, MSSQL' }
            ],
            contact: {
                email: 'your-email@example.com',
                github: 'your-username',
                linkedin: 'your-profile'
            }
        };

        const ASCII_LOGO = `
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
   â•šâ•â•â•â•â•â• â•šâ•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â•
        `.trim();

        // ===== Commands =====
        const COMMANDS = {
            help: () => {
                return `
<span class="highlight">å¯ç”¨æŒ‡ä»¤ Available Commands:</span>

  <span class="cyan">whoami</span>      <span class="desc">é¡¯ç¤ºåŸºæœ¬è³‡è¨Š</span>
  <span class="cyan">skills</span>      <span class="desc">æŸ¥çœ‹æŠ€èƒ½æ¨¹</span>
  <span class="cyan">experience</span>  <span class="desc">æŸ¥çœ‹æ‰“æ€ªç´€éŒ„</span>
  <span class="cyan">contact</span>     <span class="desc">å‚³é€é–€ï¼ˆè¯çµ¡æ–¹å¼ï¼‰</span>
  <span class="cyan">neofetch</span>    <span class="desc">ç³»çµ±è³‡è¨Š</span>
  <span class="cyan">clear</span>       <span class="desc">æ¸…é™¤ç•«é¢</span>
  <span class="cyan">help</span>        <span class="desc">é¡¯ç¤ºæ­¤èªªæ˜</span>

<span class="comment">æç¤ºï¼šè©¦è©¦çœ‹æœ‰æ²’æœ‰éš±è—æŒ‡ä»¤ï¼Ÿ</span>`;
            },

            whoami: () => {
                return `
<pre class="ascii-art">${ASCII_LOGO}</pre>

<span class="highlight">â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span>
<span class="highlight">â”‚</span>  <span class="cyan">Name:</span>     <span class="value">${PROFILE.name}</span>
<span class="highlight">â”‚</span>  <span class="cyan">Class:</span>    <span class="value">${PROFILE.class}</span>
<span class="highlight">â”‚</span>  <span class="cyan">Spec:</span>     <span class="value">${PROFILE.specialty}</span>
<span class="highlight">â”‚</span>  <span class="cyan">Passive:</span>  <span class="value">${PROFILE.passive}</span>
<span class="highlight">â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span>

<span class="comment">// ä¸€å€‹ç†±æ„›å¯« code ä¹Ÿç†±æ„›è§£ bug çš„å·¥ç¨‹å¸«</span>`;
            },

            skills: async () => {
                let output = '\n<span class="highlight">æ­£åœ¨è¼‰å…¥æŠ€èƒ½æ¨¹...</span>\n\n';
                output += await simulateLoading();
                output += '\n\n<span class="cyan">â•â•â•â•â•â• æŠ€èƒ½æ¸…å–® â•â•â•â•â•â•</span>\n\n';

                PROFILE.skills.forEach(skill => {
                    const fullStars = Math.floor(skill.level);
                    const hasHalf = skill.level % 1 !== 0;
                    const emptyStars = 5 - fullStars - (hasHalf ? 1 : 0);
                    const halfStar = hasHalf ? '<span class="half-star">â˜…</span>' : '';
                    const stars = 'â˜…'.repeat(fullStars) + halfStar + 'â˜†'.repeat(emptyStars);
                    output += `  <span class="skill-tag">${skill.name}</span> <span class="comment">${stars}</span>\n`;
                });

                output += '\n<span class="comment">// æŠ€èƒ½æŒçºŒé€²åŒ–ä¸­...</span>';
                return output;
            },

            experience: () => {
                let output = '\n<span class="highlight">â•â•â•â•â•â• æ‰“æ€ªç´€éŒ„ Monster Slaying Records â•â•â•â•â•â•</span>\n';

                PROFILE.experience.forEach((exp, i) => {
                    output += `
<div class="exp-item">
  <span class="exp-title">[BOSS ${i + 1}] ${exp.title}</span>
  <div class="exp-desc">â”œâ”€ ${exp.desc}</div>
  <div class="exp-desc">â””â”€ Tech: ${exp.tech}</div>
</div>`;
                });

                output += '\n<span class="success">âœ“ æ‰€æœ‰ Boss å·²æ“Šæ•—</span>';
                return output;
            },

            history: () => COMMANDS.experience(),

            contact: () => {
                return `
<span class="highlight">â•â•â•â•â•â• å‚³é€é–€ Portal â•â•â•â•â•â•</span>

  <span class="cyan">ğŸ“§ Email:</span>    <a class="terminal-link" href="mailto:${PROFILE.contact.email}">${PROFILE.contact.email}</a>
  <span class="cyan">ğŸ™ GitHub:</span>   <a class="terminal-link" href="https://github.com/${PROFILE.contact.github}" target="_blank">github.com/${PROFILE.contact.github}</a>
  <span class="cyan">ğŸ’¼ LinkedIn:</span> <a class="terminal-link" href="https://linkedin.com/in/${PROFILE.contact.linkedin}" target="_blank">linkedin.com/in/${PROFILE.contact.linkedin}</a>

<span class="comment">// æ­¡è¿ä¾†ä¿¡äº¤æµæˆ–æ˜¯ç™¼ issue çµ¦æˆ‘ï¼</span>`;
            },

            neofetch: () => {
                return `
<pre class="ascii-art">${ASCII_LOGO}</pre>
                         <span class="cyan">dino</span>@<span class="cyan">portfolio</span>
                         <span class="value">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
                         <span class="cyan">OS:</span> <span class="value">Developer OS 2024</span>
                         <span class="cyan">Host:</span> <span class="value">Full Stack Machine</span>
                         <span class="cyan">Kernel:</span> <span class="value">.NET Core 10.0</span>
                         <span class="cyan">Shell:</span> <span class="value">bash 5.0</span>
                         <span class="cyan">Resolution:</span> <span class="value">ç„¡é™ x ç„¡é™</span>
                         <span class="cyan">DE:</span> <span class="value">Backend Paradise</span>
                         <span class="cyan">CPU:</span> <span class="value">Brain @ 3.0GHz (å’–å•¡åŠ é€Ÿ)</span>
                         <span class="cyan">GPU:</span> <span class="value">Claude Code + GitHub Copilot</span>
                         <span class="cyan">Memory:</span> <span class="value">8GB / âˆ (Stack Overflow)</span>
                         <span class="cyan">Disk:</span> <span class="value">ç¶“é©—å€¼ 99999+</span>
                         <span class="cyan">AI:</span> <span class="value">AI Coding å¯¦è¸è€…</span>

                         <span style="color:#ff5555">â–ˆâ–ˆâ–ˆ</span><span style="color:#ffbd2e">â–ˆâ–ˆâ–ˆ</span><span style="color:#27ca40">â–ˆâ–ˆâ–ˆ</span><span style="color:#00ffff">â–ˆâ–ˆâ–ˆ</span><span style="color:#bd93f9">â–ˆâ–ˆâ–ˆ</span><span style="color:#ff79c6">â–ˆâ–ˆâ–ˆ</span>`;
            },

            clear: () => {
                document.getElementById('terminal-output').innerHTML = '';
                return null;
            },

            // ===== Easter Eggs =====
            'sudo': (args) => {
                if (args.includes('hire-me') || args.includes('hire')) {
                    return `
<span class="success">
âœ¨ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• âœ¨

   æ±‚è·æ¨¡å¼å·²å•Ÿå‹•ï¼

   sudo æ¬Šé™ç¢ºèª... <span class="highlight">å·²æˆæ¬Š</span>

   æ­£åœ¨æº–å‚™å±¥æ­·å‚³è¼¸...
   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%

   <span class="cyan">âœ‰ï¸  è«‹é€é contact æŒ‡ä»¤å–å¾—è¯çµ¡æ–¹å¼</span>

âœ¨ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• âœ¨
</span>`;
                }
                return '<span class="error">éœ€è¦ root æ¬Šé™... é–‹ç©ç¬‘çš„å•¦</span>';
            },

            matrix: () => {
                startMatrix();
                return '<span class="success">é€²å…¥ Matrix æ¨¡å¼...</span>\n<span class="comment">// 5 ç§’å¾Œè‡ªå‹•é—œé–‰ï¼Œæˆ–è¼¸å…¥ä»»æ„æŒ‡ä»¤</span>';
            },

            ls: () => {
                return `
<span class="cyan">drwxr-xr-x</span>  <span class="value">skills/</span>
<span class="cyan">drwxr-xr-x</span>  <span class="value">experience/</span>
<span class="cyan">drwxr-xr-x</span>  <span class="value">contact/</span>
<span class="cyan">-rw-r--r--</span>  <span class="value">README.md</span>
<span class="cyan">-rw-r--r--</span>  <span class="value">.coffee_addiction</span>
<span class="cyan">-rw-r--r--</span>  <span class="value">.debug_mode_on</span>`;
            },

            cat: (args) => {
                if (args.includes('README') || args.includes('readme')) {
                    return `
<span class="highlight"># Dino - Full Stack Developer</span>

<span class="value">> "Write code, fix bugs, repeat."</span>

<span class="value">æ­¡è¿ä¾†åˆ°æˆ‘çš„çµ‚ç«¯æ©Ÿå±¥æ­·ï¼</span>
<span class="value">è¼¸å…¥</span> <span class="cyan">\`help\`</span> <span class="value">æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æŒ‡ä»¤ã€‚</span>`;
                }
                if (args.includes('.coffee')) {
                    return '<span class="highlight">â˜• å’–å•¡å› æ¿ƒåº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%</span>';
                }
                if (args.includes('.debug')) {
                    return '<span class="success">ğŸ› Debug æ¨¡å¼: æ°¸é é–‹å•Ÿ</span>';
                }
                return '<span class="error">cat: æ‰¾ä¸åˆ°æª”æ¡ˆ</span>';
            },

            ping: (args) => {
                return `
<span class="value">PING ${args[0] || 'google.com'} 56 data bytes</span>
<span class="value">64 bytes: icmp_seq=1 ttl=64 time=</span><span class="success">è¶…å¿«</span>
<span class="value">64 bytes: icmp_seq=2 ttl=64 time=</span><span class="success">é‚„æ˜¯å¾ˆå¿«</span>
<span class="value">64 bytes: icmp_seq=3 ttl=64 time=</span><span class="success">ä¾ç„¶å¿«</span>

<span class="value">--- ping statistics ---</span>
<span class="value">æˆ‘çš„å›è¦†é€Ÿåº¦ä¹Ÿé€™éº¼å¿«ï¼</span>`;
            },

            coffee: () => {
                return `
<span class="highlight">
        )))
       (((
     +-----+
     |     |]
     \`-----'
   ___________
   \`---------'
</span>
<span class="comment">// ä¸€æ¯å’–å•¡ï¼Œç¨‹å¼ç¢¼å°±ä¾†äº†</span>`;
            },

            hack: () => {
                return `
<span class="success">æ­£åœ¨å…¥ä¾µ...
[â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“] 100%

é–‹ç©ç¬‘çš„å•¦ï¼æˆ‘æ˜¯æ­£æ´¾å·¥ç¨‹å¸« ğŸ˜„</span>`;
            },

            '42': () => '<span class="cyan">ç”Ÿå‘½ã€å®‡å®™ä»¥åŠä»»ä½•äº‹æƒ…çš„çµ‚æ¥µç­”æ¡ˆã€‚</span>',

            hello: () => '<span class="success">Hello World! ğŸ‘‹</span>',
            hi: () => COMMANDS.hello(),

            exit: () => '<span class="comment">é€™æ˜¯ç¶²é ï¼Œæ²’æœ‰ exit... ä½†è¬è¬ä½ çš„æ‹œè¨ªï¼</span>',
            quit: () => COMMANDS.exit(),

            date: () => `<span class="cyan">${new Date().toLocaleString('zh-TW')}</span>`,

            echo: (args) => `<span class="value">${args.join(' ') || ''}</span>`,

            man: () => '<span class="comment">è©¦è©¦ help æŒ‡ä»¤å§ï¼</span>',

            cd: () => '<span class="comment">ä½ å·²ç¶“åœ¨æœ€å¥½çš„ç›®éŒ„äº† ~</span>',

            pwd: () => '<span class="value">/home/dino/portfolio</span>',

            vim: () => '<span class="error">:q! ... ç­‰ç­‰ï¼Œé€™ä¸æ˜¯ vim</span>',
            nano: () => '<span class="comment">æ¨è–¦ç”¨ VSCode æˆ– Rider å•¦</span>',

            git: (args) => {
                if (args.includes('status')) return '<span class="success">âœ“ äººç”Ÿ working tree clean</span>';
                if (args.includes('log')) return '<span class="cyan">æŒçºŒ commit ä¸­...</span>';
                return '<span class="comment">git å¾ˆé‡è¦ï¼æ¯å¤©éƒ½è¦ commit</span>';
            },

            npm: () => '<span class="error">npm ERR! é–‹ç©ç¬‘çš„ï¼Œæˆ‘å…¶å¯¦æ¯”è¼ƒå¸¸ç”¨ dotnet</span>',
            dotnet: () => '<span class="success">âœ“ .NET æ˜¯æˆ‘çš„ä¸»å ´ï¼</span>',
        };

        // ===== Terminal Engine =====
        const output = document.getElementById('terminal-output');
        let commandHistory = [];
        let historyIndex = -1;
        let matrixInterval = null;

        async function simulateLoading() {
            const frames = ['[          ]', '[â–ˆ         ]', '[â–ˆâ–ˆ        ]', '[â–ˆâ–ˆâ–ˆ       ]',
                          '[â–ˆâ–ˆâ–ˆâ–ˆ      ]', '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     ]', '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    ]', '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   ]',
                          '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ]', '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ ]', '[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ]'];
            return `<span class="loading-bar">${frames[frames.length - 1]} 100%</span>`;
        }

        function createInputLine() {
            const inputLine = document.createElement('div');
            inputLine.className = 'input-line';
            inputLine.innerHTML = `
                <span class="input-prompt">dino@portfolio:~$</span>
                <input type="text" id="command-input" autocomplete="off" autocapitalize="off" spellcheck="false">
            `;
            output.appendChild(inputLine);

            const input = document.getElementById('command-input');
            input.focus();

            input.addEventListener('keydown', handleKeyDown);

            // Focus on click anywhere
            document.querySelector('.terminal-body').addEventListener('click', () => {
                input.focus();
            });
        }

        function handleKeyDown(e) {
            const input = e.target;

            if (e.key === 'Enter') {
                e.preventDefault();
                const cmd = input.value.trim();
                if (cmd) {
                    commandHistory.push(cmd);
                    historyIndex = commandHistory.length;
                }
                processCommand(cmd);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                if (historyIndex > 0) {
                    historyIndex--;
                    input.value = commandHistory[historyIndex];
                }
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    input.value = commandHistory[historyIndex];
                } else {
                    historyIndex = commandHistory.length;
                    input.value = '';
                }
            } else if (e.key === 'Tab') {
                e.preventDefault();
                // Simple autocomplete
                const cmdNames = Object.keys(COMMANDS);
                const partial = input.value.toLowerCase();
                const match = cmdNames.find(c => c.startsWith(partial));
                if (match) input.value = match;
            } else if (e.key === 'l' && e.ctrlKey) {
                e.preventDefault();
                COMMANDS.clear();
                createInputLine();
            }
        }

        async function processCommand(cmdString) {
            // Stop matrix if running
            if (matrixInterval) {
                clearInterval(matrixInterval);
                matrixInterval = null;
                document.getElementById('matrix').style.opacity = '0.05';
            }

            // Remove old input line
            const oldInput = document.querySelector('.input-line');
            if (oldInput) {
                const promptText = oldInput.querySelector('.input-prompt').textContent;
                const cmdText = oldInput.querySelector('input').value;
                oldInput.remove();

                // Show the executed command
                appendOutput(`<span class="prompt">${promptText}</span> <span class="command">${cmdText}</span>`);
            }

            if (!cmdString) {
                createInputLine();
                scrollToBottom();
                return;
            }

            const parts = cmdString.split(' ');
            const cmd = parts[0].toLowerCase();
            const args = parts.slice(1);

            let result;
            if (COMMANDS[cmd]) {
                result = await COMMANDS[cmd](args);
            } else {
                result = `<span class="error">zsh: command not found: ${cmd}</span>\n<span class="comment">è¼¸å…¥ help æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤</span>`;
            }

            if (result !== null) {
                await typeOutput(result);
            }

            createInputLine();
            scrollToBottom();
        }

        function appendOutput(html) {
            const line = document.createElement('div');
            line.className = 'output-line';
            line.innerHTML = html;
            output.appendChild(line);
        }

        async function typeOutput(html) {
            const line = document.createElement('div');
            line.className = 'output-line';
            line.innerHTML = html;
            output.appendChild(line);
            scrollToBottom();
        }

        function scrollToBottom() {
            const terminalBody = document.querySelector('.terminal-body');
            terminalBody.scrollTop = terminalBody.scrollHeight;
        }

        // ===== Matrix Effect =====
        function startMatrix() {
            const canvas = document.getElementById('matrix');
            const ctx = canvas.getContext('2d');

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.opacity = '0.3';

            const chars = 'ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³0123456789';
            const fontSize = 14;
            const columns = canvas.width / fontSize;
            const drops = Array(Math.floor(columns)).fill(1);

            matrixInterval = setInterval(() => {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = '#0f0';
                ctx.font = fontSize + 'px monospace';

                for (let i = 0; i < drops.length; i++) {
                    const char = chars[Math.floor(Math.random() * chars.length)];
                    ctx.fillText(char, i * fontSize, drops[i] * fontSize);

                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }, 33);

            // Auto stop after 5 seconds
            setTimeout(() => {
                if (matrixInterval) {
                    clearInterval(matrixInterval);
                    matrixInterval = null;
                    canvas.style.opacity = '0.05';
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                }
            }, 5000);
        }

        // ===== Boot Sequence =====
        async function boot() {
            const bootMessages = [
                '<span class="boot-text">Booting Dino Portfolio System...</span>',
                '<span class="boot-text">Loading personality module... <span class="success">OK</span></span>',
                '<span class="boot-text">Initializing skill database... <span class="success">OK</span></span>',
                '<span class="boot-text">Connecting to experience server... <span class="success">OK</span></span>',
                '',
                `<pre class="ascii-art">${ASCII_LOGO}</pre>`,
                '',
                '<span class="highlight">Welcome to Dino\'s Portfolio Terminal!</span>',
                '<span class="comment">è¼¸å…¥ <span class="cyan">help</span> æŸ¥çœ‹å¯ç”¨æŒ‡ä»¤ï¼Œæˆ–ç›´æ¥é–‹å§‹æ¢ç´¢</span>',
                ''
            ];

            for (const msg of bootMessages) {
                appendOutput(msg);
                scrollToBottom();
                await sleep(CONFIG.bootDelay);
            }

            createInputLine();
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // ===== Initialize =====
        window.addEventListener('load', boot);
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('matrix');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
